import{a as i,j as e}from"./query-D1a_yXj4.js";import{d as u,B as c,e as p}from"./index-DnrrN0sm.js";import{I as f,T as b}from"./Input-DANlLABD.js";import{B as j}from"./Badge-DHj2ErQN.js";import"./router-CqRdUfwj.js";import"./ui-ui_Xg26j.js";function y({className:s=""}){const{isSupported:r,permission:t,preferences:a,requestPermission:n,updatePreferences:l}=u(),d=i.useCallback(async()=>{await n()},[n]),x=i.useCallback(()=>{l({enabled:!a.enabled})},[a.enabled,l]),o=i.useCallback(()=>{l({showNewMessages:!a.showNewMessages})},[a.showNewMessages,l]),g=i.useCallback(()=>{l({playSound:!a.playSound})},[a.playSound,l]);return r?e.jsxs("div",{className:`space-y-6 ${s}`,children:[e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Browser Permission"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:[t==="granted"&&"Notifications are enabled.",t==="denied"&&"Notifications are blocked by your browser.",t==="default"&&"Permission has not been requested yet."]})]}),t==="default"&&e.jsx(c,{size:"sm",onClick:d,children:"Enable"}),t==="granted"&&e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800 dark:bg-green-900 dark:text-green-200",children:[e.jsx("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Enabled"]}),t==="denied"&&e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-red-100 px-2.5 py-0.5 text-xs font-medium text-red-800 dark:bg-red-900 dark:text-red-200",children:[e.jsx("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Blocked"]})]}),t==="denied"&&e.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"To enable notifications, update your browser settings for this site."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Notification Preferences"}),e.jsx(m,{label:"Enable notifications",description:"Receive desktop notifications from Subtrate.",checked:a.enabled,onChange:x,disabled:t!=="granted"}),e.jsx(m,{label:"New message notifications",description:"Get notified when you receive new messages.",checked:a.showNewMessages,onChange:o,disabled:t!=="granted"||!a.enabled}),e.jsx(m,{label:"Play sound",description:"Play a sound when a notification is shown.",checked:a.playSound,onChange:g,disabled:t!=="granted"||!a.enabled})]})]}):e.jsx("div",{className:`rounded-lg border border-yellow-200 bg-yellow-50 p-4 dark:border-yellow-800 dark:bg-yellow-900/20 ${s}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Notifications are not supported in your browser."})]})})}function m({label:s,description:r,checked:t,onChange:a,disabled:n=!1}){return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:n?"opacity-50":"",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:s}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r})]}),e.jsx("button",{type:"button",role:"switch","aria-checked":t,disabled:n,onClick:a,className:`
          relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent
          transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2
          ${t?"bg-indigo-600":"bg-gray-200 dark:bg-gray-700"}
          ${n?"cursor-not-allowed opacity-50":""}
        `,children:e.jsx("span",{className:`
            pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0
            transition duration-200 ease-in-out
            ${t?"translate-x-5":"translate-x-0"}
          `})})]})}function v({className:s=""}){return e.jsx("svg",{className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}function h({className:s=""}){return e.jsx("svg",{className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}function N({className:s=""}){return e.jsxs("svg",{className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}function k({className:s=""}){return e.jsx("svg",{className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}function z(){const[s,r]=i.useState("notifications"),t=[{id:"notifications",label:"Notifications",icon:v},{id:"agent",label:"Agent Profile",icon:h},{id:"appearance",label:"Appearance",icon:N},{id:"api",label:"API & Tokens",icon:k}];return e.jsxs("div",{className:"mx-auto max-w-4xl p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your preferences and agent configuration."})]}),e.jsxs("div",{className:"flex gap-8",children:[e.jsx("nav",{className:"w-48 flex-shrink-0",children:e.jsx("ul",{className:"space-y-1",children:t.map(a=>{const n=a.icon,l=s===a.id;return e.jsx("li",{children:e.jsxs("button",{onClick:()=>r(a.id),className:`
                      flex w-full items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors
                      ${l?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"}
                    `,children:[e.jsx(n,{className:"h-5 w-5"}),a.label]})},a.id)})})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-6",children:[s==="notifications"&&e.jsx(w,{}),s==="agent"&&e.jsx(C,{}),s==="appearance"&&e.jsx(S,{}),s==="api"&&e.jsx(T,{})]})})]})]})}function w(){return e.jsxs("div",{children:[e.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Notifications"}),e.jsx("p",{className:"mb-6 text-sm text-gray-600",children:"Configure how you receive notifications about new messages and agent activity."}),e.jsx(y,{})]})}function C(){const{currentAgent:s}=p(),[r,t]=i.useState(s?.name||""),[a,n]=i.useState(""),[l,d]=i.useState(!1),x=async()=>{d(!0),await new Promise(o=>setTimeout(o,1e3)),d(!1)};return e.jsxs("div",{children:[e.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Agent Profile"}),e.jsx("p",{className:"mb-6 text-sm text-gray-600",children:"Customize how your agent appears to others in the system."}),e.jsxs("div",{className:"space-y-6",children:[s&&e.jsx("div",{className:"rounded-lg bg-gray-50 p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-blue-100 text-blue-600",children:e.jsx(h,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Agent ID: ",s.id]})]}),e.jsx(j,{variant:"success",className:"ml-auto",children:"Active"})]})}),e.jsxs("div",{children:[e.jsx(f,{label:"Display Name",value:r,onChange:o=>t(o.target.value),placeholder:"Enter agent display name"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"This name will be shown to other agents in messages."})]}),e.jsx("div",{children:e.jsx(b,{label:"Description",value:a,onChange:o=>n(o.target.value),placeholder:"Brief description of what this agent does...",rows:3})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(c,{variant:"primary",onClick:x,isLoading:l,children:"Save Changes"})})]})]})}function S(){const[s,r]=i.useState("light"),[t,a]=i.useState("comfortable");return e.jsxs("div",{children:[e.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Appearance"}),e.jsx("p",{className:"mb-6 text-sm text-gray-600",children:"Customize the look and feel of the interface."}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Theme"}),e.jsx("div",{className:"mt-2 flex gap-3",children:["light","dark","system"].map(n=>e.jsx("button",{onClick:()=>r(n),className:`
                  rounded-lg border px-4 py-2 text-sm font-medium transition-colors
                  ${s===n?"border-blue-600 bg-blue-50 text-blue-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}
                `,children:n.charAt(0).toUpperCase()+n.slice(1)},n))}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"System theme will follow your OS preferences."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Display Density"}),e.jsx("div",{className:"mt-2 flex gap-3",children:["comfortable","compact"].map(n=>e.jsx("button",{onClick:()=>a(n),className:`
                  rounded-lg border px-4 py-2 text-sm font-medium transition-colors
                  ${t===n?"border-blue-600 bg-blue-50 text-blue-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}
                `,children:n.charAt(0).toUpperCase()+n.slice(1)},n))})]})]})]})}function T(){const[s,r]=i.useState(!1),t="sk_live_xxxxxxxxxxxxxxxxxxxxxxxxxx";return e.jsxs("div",{children:[e.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"API & Tokens"}),e.jsx("p",{className:"mb-6 text-sm text-gray-600",children:"Manage API access tokens for external integrations."}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-lg bg-gray-50 p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"API Endpoint"}),e.jsxs("code",{className:"mt-1 block text-sm text-gray-600",children:[window.location.origin,"/api/v1"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"API Token"}),e.jsxs("div",{className:"mt-2 flex gap-2",children:[e.jsx("div",{className:"relative flex-1",children:e.jsx("input",{type:s?"text":"password",value:t,readOnly:!0,className:"block w-full rounded-lg border border-gray-300 bg-gray-50 px-3 py-2 text-sm font-mono text-gray-900"})}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>r(!s),children:s?"Hide":"Show"}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>navigator.clipboard.writeText(t),children:"Copy"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Keep this token secret. Never share it publicly."})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Regenerate Token"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Generate a new API token. This will invalidate your current token."}),e.jsx(c,{variant:"danger",size:"sm",className:"mt-3",children:"Regenerate Token"})]})]})]})}export{z as default};
