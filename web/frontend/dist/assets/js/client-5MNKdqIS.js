var l=Object.defineProperty;var g=(o,t,s)=>t in o?l(o,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[t]=s;var i=(o,t,s)=>g(o,typeof t!="symbol"?t+"":t,s);const v="/api/v1";class m extends Error{constructor(s,r,a,n){super(r);i(this,"code");i(this,"status");i(this,"details");this.name="ApiError",this.code=s,this.status=a,this.details=n}}async function u(o,t={}){const{method:s="GET",body:r,headers:a={},signal:n}=t,f=`${v}${o}`,h={"Content-Type":"application/json",...a},c={method:s,headers:h};r!==void 0&&(c.body=JSON.stringify(r)),n!==void 0&&(c.signal=n);const e=await fetch(f,c);if(e.status===204)return;const p=await e.json();if(!e.ok){const d=p;throw new m(d.error?.code??"unknown_error",d.error?.message??"An unknown error occurred",e.status,d.error?.details)}return p}function A(o,t){const s={method:"GET"};return t!==void 0&&(s.signal=t),u(o,s)}function E(o,t,s){const r={method:"POST"};return t!==void 0&&(r.body=t),u(o,r)}function y(o,t,s){const r={method:"PATCH"};return t!==void 0&&(r.body=t),u(o,r)}export{y as a,A as g,E as p};
